<div>

</div>
<div class="page-header">
    <h1>{{header}}</h1>
</div>

<div class="container">
    <div class="row top-row">
        <div class="col-xs-12 row end-xs">
            <a mat-flat-button routerLink="/drugs"><mat-icon>arrow_back</mat-icon> Go Back</a>
            <!-- <a mat-fab extended routerLink="/drugs"><mat-icon>arrow_back</mat-icon> Go Back</a> -->
        </div>
    </div>
    <!-- 'drugName', 'expiryDate', 'imageUrl', 'price', 'quantity', 'edit'  -->
    <div class="row form-container">
        <div class = "col-xs-6">
            <form #drugDetailsForm="ngForm">
                <div class="row">
                    <div class="col-xs-12">
                        <mat-form-field appearance="outline">
                            <mat-label>Drug Name</mat-label>
                            <input type="text" matInput [(ngModel)]="drug.drugName" name="drugName">
                        </mat-form-field>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-12">
                        <mat-form-field appearance="outline">
                            <mat-label>Expiry Date</mat-label>
                            <input matInput [matDatepicker]="picker" [(ngModel)]="drug.expiryDate" name="expiryDate" [min] = "minDate">
                            <mat-datepicker-toggle matSuffix [for] = "picker"></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
                        </mat-form-field>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-12">
                        <mat-form-field appearance="outline">
                            <mat-label>Price</mat-label>
                            <input type="number" matInput [(ngModel)]="drug.price" name="price">
                        </mat-form-field>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-12">          
                        <mat-form-field appearance="outline">
                            <mat-label>Quantity</mat-label>
                            <input type="number" matInput [(ngModel)]="drug.quantity" name="quantity">
                        </mat-form-field>
                    </div>
                </div>

                <div class="row">
                    <div class="col-xs-12">  
                        <div class="row between-xs" *ngIf="!isNewDrug">
                            <button mat-flat-button (click)="onUpdate()">Update</button>        
                            <button mat-flat-button (click)="onDelete()" color="warn">Delete</button>         
                        </div>
                        <div class="row between-xs" *ngIf="isNewDrug">
                            <button mat-flat-button (click)="onAdd()">Add</button>        
                        </div>
                    </div>
                </div>

            </form>

        </div>
        <div class = "col-xs-6">
            <div class = "row center-xs">
                <div class="image-container">
                    <img [src]="drugImage" alt="Drug Image">
                </div>
            </div>
            <div class="row center-xs">
                <div class = "col-xs-12">
                    <input hidden type="file" #imageUpload (change)="uploadImage($event)">
                    <button mat-flat-button (click)="imageUpload.click()">Change Image</button>
                </div>
            </div>

        </div>

    </div>

</div>
